# Change prefix from Ctrl-b to Ctrl-a
#unbind C-b
set-option -g prefix C-a
set-option -g prefix2 C-b

# Ctrl-A Ctrl-A switches to last window
bind-key C-a last-window

# Ctrl-A a sends literal Ctrl-A to applications
bind-key a send-prefix

# 100k line scrollback buffer
set -g history-limit 100000

# Start copy-mode with Prefix + Esc (like GNU Screen)
bind Escape copy-mode

# Use vim-style keys for copy-mode
set -g mode-keys vi

# Status line configuration
set -g status-style 'bg=black,fg=cyan'

# Left side: window list with current window highlighted
set -g status-left ""
set -g window-status-format "#[fg=colour8] #I #W "
set -g window-status-current-format "#[fg=red][#[fg=white]#I #W#[fg=red]]#[fg=colour8]"
set -g window-status-current-style 'fg=colour233,bg=colour236,bold'

# Activity/bell styles
set -g window-status-activity-style 'fg=colour1,bg=colour238,bold'
set -g window-status-bell-style 'fg=colour255,bg=colour1,bold'

# Right side: date and time
set -g status-right "#[fg=white] #(date '+%a %b %d %Y') #[fg=cyan]#(date '+%I:%M%p')"

# Make Esc responsive but still handle escape sequences reliably
set -g escape-time 10

# Make Ctrl-A, Ctrl-A act like Screen
bind C-A last-window

# Track activity in background windows, but don't show popup messages about it
set -g monitor-activity on
set -g visual-activity off

# Enable true-color (24-bit RGB) support for xterm-256color inside tmux
set-option -a terminal-features 'xterm-256color:RGB'

# Allow tmux to forward terminal focus events so Neovim (and others) can detect focus changes for autoread, etc.
set-option -g focus-events on
